{"version":3,"sources":["app-min.js"],"names":["host","apiVersion","Sources","ArticlesUrl","URLS","Observable","_observers","Map","label","callback","has","set","get","push","observers","index","length","reduce","i","observer","isFunction","splice","args","forEach","Article","title","url","description","author","urlToImage","publishedAt","Articles","source","sortBy","_articles","article","SourceItem","id","name","category","language","country","urlsToLogos","sortBysAvailable","UrlsToLogos","small","medium","large","SourceService","_sources","Promise","resolve","fetch","HOST","API_VERSION","SOURCES","then","response","ok","json","console","log","statusText","sources","contry","catch","err","ArticlesService","sourceId","headers","Headers","append","init","method","mode","cache","ARTICLES","articlesModel","articles","Add","ArticlesPresenter","articlesView","articleService","observable","_observable","addObserver","onSourceChanged","bind","_articleService","_articlesView","Presenter","newSourceId","loadArticles","getArticlesBySourceId","setArticles","alert","showArticles","emit","SourcePresenter","sourceView","sourceService","loadSources","_sourceService","_sourceView","_selectedSourceId","getSources","sourceItems","setSources","showSources","value","MainPresenter","_sourcePresenter","SourcesView","_articlesPresenter","ArticlesView","articleItemTemplate","sourceItemTemplate","sourceItem","Templates","View","_presenter","_viewControl","document","getElementById","innerHTML","scroll","sourcesPanel","createElement","setAttribute","sourceItemElement","SourceItemTemplate","addEventListener","onSourceSelected","appendChild","event","preventDefault","sender","currentTarget","SelectedSourceId","getAttribute","view","backElement","onBackClick","innerText","articlesPanel","row","articleItemElement","ArticleItemTemplate","goBack","mainPresenter","initialize"],"mappings":"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","file":"app-min.js","sourcesContent":["// JavaScript source code\r\nconst host = \"https://newsapi.org/\",\r\n    apiVersion = \"v1/\",\r\n    Sources = \"sources/\",\r\n    ArticlesUrl = \"/articles?source=\";\r\n\r\nclass URLS\r\n{\r\n    static get HOST() {\r\n        return host;\r\n    }\r\n\r\n    static get API_VERSION() {\r\n        return apiVersion;\r\n    }\r\n\r\n    static get SOURCES() {\r\n        return Sources;\r\n    }\r\n\r\n    static get ARTICLES() {\r\n        return ArticlesUrl;\r\n    }\r\n};class Observable{\r\n    constructor() {\r\n        this._observers = new Map();\r\n    }\r\n\r\n    addObserver(label, callback) {\r\n        this._observers.has(label) || this._observers.set(label, []);\r\n        this._observers.get(label).push(callback);\r\n    }\r\n\r\n    removeObserver(label, callback) {\r\n        let observers = this._observers.get(label);\r\n        let index;\r\n\r\n        if (observers && observers.length) {\r\n            index = observers.reduce((i, observer, index) => {\r\n                return (isFunction(observer) && observer === callback) ?\r\n                    i = index :\r\n                    i;\r\n            }, -1);\r\n\r\n            if (index > -1) {\r\n                observers.splice(index, 1);\r\n                this._observers.set(label, observers);\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    emit(label, ...args) {\r\n        let observers = this._observers.get(label);\r\n        if (observers && observers.length) {\r\n            observers.forEach((observer) => {\r\n                observer(...args);\r\n            });\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n};// Represents the single news item.\r\nclass Article {\r\n    constructor(title, url, description, author, urlToImage, publishedAt) {\r\n        this.author = author;\r\n        this.title = title;\r\n        this.description = description;\r\n        this.url = url;\r\n        this.urlToImage = urlToImage;\r\n        this.publishedAt = publishedAt;\r\n    }\r\n};// Represents the news given by source\r\nclass Articles{\r\n    constructor(source, sortBy) {\r\n        this.source = source;\r\n        this.sortBy = sortBy;\r\n        this._articles = [];\r\n    }\r\n\r\n    Add(article) {\r\n        this._articles.push(article);\r\n    }\r\n\r\n    get Articles() {\r\n        return this._articles;\r\n    }\r\n};// Represents the source\r\nclass SourceItem {\r\n    constructor(id, name, description, url, category, language, country, urlsToLogos, sortBysAvailable) {\r\n        this.id = id;\r\n        this.name = name;\r\n        this.description = description;\r\n        this.url = url;\r\n        this.category = category;\r\n        this.language = language;\r\n        this.country = country;\r\n        this.urlsToLogos = new UrlsToLogos(urlsToLogos.small, urlsToLogos.medium, urlsToLogos.large);\r\n        this.sortBysAvailable = sortBysAvailable;\r\n    }\r\n};// The url to logos class\r\nclass UrlsToLogos {\r\n    constructor(small, medium, large) {\r\n        this.small = small;\r\n        this.medium = medium;\r\n        this.large = large;\r\n    }\r\n};// JavaScript source code\r\nclass SourceService {\r\n    constructor() {\r\n        this._sources = [];\r\n    }\r\n\r\n    getSources() {\r\n        if (this._sources.length > 0) {\r\n            return Promise.resolve(this._sources);\r\n        }\r\n\r\n        return fetch(URLS.HOST + URLS.API_VERSION + URLS.SOURCES)\r\n            .then((response) => {\r\n                if (response.ok) {\r\n                    return response.json();\r\n                } else {\r\n                    console.log(response.statusText);\r\n                }\r\n            }).then(json => {\r\n                for (let source of json.sources) {\r\n                    // id, name, description, url, category, language, country, urlsToLogos, sortBysAvailable\r\n                    this._sources.push(\r\n                        new SourceItem(\r\n                        source.id,\r\n                        source.name,\r\n                        source.description,\r\n                        source.url,\r\n                        source.category,\r\n                        source.language,\r\n                        source.contry,\r\n                        source.urlsToLogos,\r\n                        source.sortBysAvailable));\r\n                }\r\n\r\n                return this._sources;\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n    }\r\n};// The article service\r\nclass ArticlesService {\r\n    constructor() {\r\n    }\r\n\r\n    getArticlesBySourceId(sourceId) {\r\n        let headers = new Headers();\r\n        headers.append(\"X-Api-Key\", \"caa2a0adb8424a32bb0a582406293aa1\");\r\n        let init = {\r\n            method: 'GET',\r\n            headers: headers,\r\n            mode: 'cors',\r\n            cache: 'default'\r\n        };\r\n        return fetch(URLS.HOST + URLS.API_VERSION + URLS.ARTICLES + sourceId, init)\r\n            .then((response) => {\r\n                if (response.ok) {\r\n                    return response.json();\r\n                } else {\r\n                    console.log(response.statusText);\r\n                }\r\n            }).then(function (json) {\r\n                let articlesModel = new Articles(json.source, json.sortBy);\r\n                for (let article of json.articles) {\r\n                //title, url, description, author, urlToImage, publishedAt\r\n                    articlesModel.Add(\r\n                        new Article(\r\n                        article.title,\r\n                        article.url,\r\n                        article.description,\r\n                        article.author,\r\n                        article.urlToImage,\r\n                        article.publishedAt));\r\n                }\r\n                return articlesModel;\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n    }\r\n};class ArticlesPresenter {\r\n    constructor(articlesView, articleService, observable) {\r\n        this._observable = observable;\r\n        observable.addObserver(\"sourceChanged\", this.onSourceChanged.bind(this));\r\n        this._articleService = articleService;\r\n        this._articlesView = articlesView;\r\n        this._articlesView.Presenter = this;\r\n    }\r\n\r\n    // called from observable, when \"sourceChanged\" is emited.\r\n    onSourceChanged(newSourceId) {\r\n        this.loadArticles(newSourceId);\r\n    }\r\n\r\n    loadArticles(sourceId) {\r\n        this._articleService.getArticlesBySourceId(sourceId)\r\n            .then(articlesModel => {\r\n                this.setArticles(articlesModel.Articles);\r\n            })\r\n            .catch(err => alert(err));\r\n    }\r\n\r\n    setArticles(articles) {\r\n        this._articlesView.showArticles(articles);\r\n    }\r\n\r\n    goBack() {\r\n        this._observable.emit(\"back\");\r\n    }\r\n};// The source Presenter\r\nclass SourcePresenter {\r\n    constructor(sourceView, sourceService, observable) {\r\n        this._observable = observable;\r\n        observable.addObserver(\"back\", this.loadSources.bind(this));\r\n        this._sourceService = sourceService;\r\n        this._sourceView = sourceView;\r\n        this._sourceView.Presenter = this;\r\n        this._selectedSourceId = null;\r\n    }\r\n\r\n    set SelectedSourceId(value) {\r\n        this._selectedSourceId = value;\r\n        this._observable.emit(\"sourceChanged\", this._selectedSourceId);\r\n    }\r\n\r\n    loadSources() {\r\n        return this._sourceService.getSources()\r\n            .then(sourceItems => {\r\n                if (sourceItems) {\r\n                    this.setSources(sourceItems);\r\n                } else {\r\n                    // TODO: move the alert message to constant.\r\n                    alert(\"there is no source items\");\r\n                }\r\n            }).catch(err => alert(err));\r\n    }\r\n\r\n    setSources(sourceItems) {\r\n        this._sourceView.showSources(sourceItems);\r\n    }\r\n};class MainPresenter\r\n{\r\n    constructor()\r\n    {\r\n        this._observable = new Observable();\r\n        this._sourcePresenter = new SourcePresenter(new SourcesView(), new SourceService(), this._observable);\r\n        this._articlesPresenter = new ArticlesPresenter(new ArticlesView(), new ArticlesService(), this._observable);\r\n    }\r\n\r\n    initialize() {\r\n        this._sourcePresenter.loadSources();\r\n    }\r\n};const articleItemTemplate = article =>\r\n    `<a href=\"${article.url}\">\r\n        <div class =\"item-container\">\r\n            <div class =\"article-image\"><img class =\"image-fit\" src=\"${article.urlToImage}\"></div>\r\n            <div class =\"article-text-area\">\r\n                <div class=\"article-item-header\">${article.title}</div>\r\n                <div class =\"article-item-description\">${article.description}</div>\r\n            </div>\r\n        </div>\r\n     </a>`;\r\n\r\nconst sourceItemTemplate = sourceItem =>\r\n    `<div class=\"item-container\">\r\n        <div class =\"source-image wide\"><img class =\"image-fit\" src=\"${sourceItem.urlsToLogos.medium}\"></div>\r\n        <div class=\"source-item-class\">${sourceItem.name}</div>\r\n     </div>`;\r\n\r\nclass Templates\r\n{\r\n    static get ArticleItemTemplate() {\r\n        return articleItemTemplate;\r\n    }\r\n\r\n    static get SourceItemTemplate() {\r\n        return sourceItemTemplate;\r\n    }\r\n};class View {\r\n    constructor() {\r\n        this._presenter = null;\r\n        this._viewControl = document.getElementById(\"view\");\r\n    }\r\n\r\n    set Presenter(value) {\r\n        this._presenter = value;\r\n    }\r\n\r\n    clearView() {\r\n        this._viewControl.innerHTML = \"\";\r\n    }\r\n\r\n};// The sources view code behind\r\nclass SourcesView extends View\r\n{\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    showSources(sourceItems) {\r\n        scroll(0, 0);\r\n        super.clearView();\r\n        let sourcesPanel = document.createElement(\"div\");\r\n        sourcesPanel.setAttribute(\"class\", \"listPanel\");\r\n        for (let sourceItem of sourceItems) {\r\n            let sourceItemElement = document.createElement(\"div\");\r\n            sourceItemElement.innerHTML = Templates.SourceItemTemplate(sourceItem);\r\n            sourceItemElement.setAttribute(\"data-source-id\", sourceItem.id);\r\n            sourceItemElement.setAttribute(\"class\", \"column-1of3 border\");\r\n            sourceItemElement.addEventListener(\"click\", this.onSourceSelected.bind(this), false);\r\n            sourcesPanel.appendChild(sourceItemElement);\r\n        }\r\n        this._viewControl.appendChild(sourcesPanel);\r\n    }\r\n    \r\n    onSourceSelected(event) {\r\n        event.preventDefault();\r\n        let sender = event.currentTarget;\r\n        if (this._presenter != null) {\r\n            this._presenter.SelectedSourceId = sender.getAttribute(\"data-source-id\");\r\n        }\r\n    }\r\n};// The articles view.\r\nclass ArticlesView extends View\r\n{\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    showArticles(articles) {\r\n        scroll(0,0);\r\n        super.clearView();\r\n        let view = document.createElement(\"div\");\r\n\r\n        // Add back-button.\r\n        let backElement = document.createElement(\"div\");\r\n        backElement.addEventListener(\"click\", this.onBackClick.bind(this), false);\r\n        backElement.innerText = \"Back\";\r\n        backElement.setAttribute(\"class\", \"back-button\");\r\n        view.appendChild(backElement);\r\n\r\n        // add articles.\r\n        let articlesPanel = document.createElement(\"div\");\r\n        articlesPanel.setAttribute(\"class\", \"table\");\r\n\r\n        let i = 0;\r\n        let row = document.createElement(\"div\");\r\n        row.setAttribute(\"class\", \"row\");\r\n        articlesPanel.appendChild(row);\r\n\r\n        for (let article of articles) {\r\n            i++;\r\n            let articleItemElement = document.createElement(\"div\");\r\n            articleItemElement.setAttribute(\"class\", \"border table-cell article-max-cell-width\");\r\n            articleItemElement.innerHTML = Templates.ArticleItemTemplate(article);\r\n            row.appendChild(articleItemElement);\r\n            if (i === 3) {\r\n                i = 0;\r\n                row = document.createElement(\"div\");\r\n                row.setAttribute(\"class\", \"row\");\r\n                articlesPanel.appendChild(row);\r\n            }\r\n        }\r\n\r\n        view.appendChild(articlesPanel);\r\n        this._viewControl.appendChild(view);\r\n    }\r\n\r\n    onBackClick() {\r\n        this._presenter.goBack();\r\n    }\r\n};(function() {\r\n    let mainPresenter = new MainPresenter();\r\n    mainPresenter.initialize();\r\n})();"]}